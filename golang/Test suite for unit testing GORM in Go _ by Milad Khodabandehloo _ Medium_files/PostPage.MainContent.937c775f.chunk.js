(self.webpackChunklite=self.webpackChunklite||[]).push([[5531],{85282:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=r.createElement("path",{d:"M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zM6.77 10.46a.62.62 0 1 1-1.23 0V5.54a.62.62 0 0 1 1.23 0v4.92zm3.7 0a.62.62 0 1 1-1.24 0V5.54a.62.62 0 0 1 1.23 0v4.92z",fill:"#292929"});const i=function(e){return r.createElement("svg",l({width:16,height:16,viewBox:"0 0 16 16",fill:"none"},e),o)}},78319:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=r.createElement("path",{d:"M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zm2.8 8.51l-3.69 2.46a.62.62 0 0 1-.96-.5V5.53a.62.62 0 0 1 .96-.51l3.7 2.46a.62.62 0 0 1 0 1.02z",fill:"#292929"});const i=function(e){return r.createElement("svg",l({width:16,height:16,viewBox:"0 0 16 16",fill:"none"},e),o)}},87079:(e,t,n)=>{"use strict";n.d(t,{O:()=>ee});var r=n(67294),l=n(46510),o=n(73776),i=n(91743),a=n(1444),c=n(75399),s=n(77355),u=n(30020),d=n(66411),m=function(e){var t=e.post,n=e.source;return r.createElement(r.Fragment,null,r.createElement(c.U,{post:t,source:n,useSubtleShareButtons:!0,spacing:"4px"}),r.createElement(s.x,{margin:"0 16px 0 28px",display:"flex",alignItems:"center"},r.createElement(d.cW,{source:{name:n}},r.createElement(a.o,{post:t,susiEntry:"bookmark_header",buttonStyle:"ICON_SUBTLE"}))),r.createElement(u._,{tooltipText:"More",targetDistance:10},r.createElement(i.t,{post:t,iconStyle:"ICON_SUBTLE"})))},p=function(e){var t=e.post,n=e.source;return r.createElement(s.x,{paddingTop:"24px",display:{xs:"flex",sm:"flex",md:"none",lg:"none",xl:"none"}},r.createElement(s.x,{marginRight:"16px"},r.createElement(d.cW,{source:{name:n}},r.createElement(a.o,{post:t,susiEntry:"bookmark_header",buttonStyle:"ICON_TEXT"}))),r.createElement(c.U,{post:t,source:n,useSubtleShareButtons:!0,spacing:"12px"}),r.createElement(s.x,{marginLeft:"12px"},r.createElement(u._,{tooltipText:"More",targetDistance:10},r.createElement(i.t,{post:t,iconStyle:"ICON_SUBTLE"}))))},V=n(35989),v=n(63459),E=n(18704),f=n(34796),g=n(64718),w=n(63038),x=n.n(w),y=n(68356),h=n.n(y),b=n(10374),k=n(25735),S=n(6443),A=n(96370),T=n(47230),I=n(87691),P=n(18627),_=n(14646),C=n(50742),B=n(85282),R=n(17417),F=n(77280),N=n(78319),L=n(68894),O=function(e){return{padding:"0",cursor:"pointer",border:"none",display:"flex",alignItems:"center",":hover > p":{color:e.accentColor.text.dark},":hover > svg > path":{fill:e.accentColor.fill.dark}}},D=function(e){return{marginRight:"3px",marginBottom:"-1px",padding:"1px","> path":{fill:e.accentColor.fill.normal}}},U=function(e){var t=e.onClick,n=(0,_.I)();return r.createElement(T.z,{onClick:t,className:n(O)},r.createElement(N.Z,{className:n(D)}),r.createElement(I.F,{scale:"M",color:"ACCENT"},"Listen"))},M=function(e){var t=e.onClick,n=(0,F.PM)(),l=(0,d.P7)(n||"").susiEntry,o=(0,L.O)("post_audio_button"===l),i=x()(o,3),a=i[0],c=i[2];return r.createElement(R.A,{isVisible:a,message:"You can now listen to stories",dismissText:"Got it",dismiss:c,targetDistance:10},r.createElement(U,{onClick:t}))},z=n(26350),H=n(43822),G=n(92661),W=n(78870),j=function(e){var t=e.postId,n=(0,S.H)().value,l="post_audio_button",o=(0,W.Rk)((0,G.qt)("ShowPay",{}),{susiEntry:l,postId:t});return n?r.createElement(H.a,{redirectUrl:o},r.createElement(U,null)):r.createElement(z.R,{operation:"register",susiEntry:l,actionUrl:o},r.createElement(U,null))},K=h()({loader:function(){return n.e(6391).then(n.bind(n,82249))},modules:["src/components/post/text-to-speech/SpeechifyWidget"],webpack:function(){return[82249]},loading:function(e){var t=e.children;return r.createElement(r.Fragment,null,t)},render:(0,C.n)("SpeechifyWidget")}),Q=r.forwardRef((function(e,t){var n=e.postId,l=e.postBodyRef,o=e.isLockedPreviewOnly,i=(0,_.I)(),a=(0,P.Av)(),c=(0,S.H)().value,u=(0,k.VB)({name:"enable_members_only_audio",placeholder:!1}),d=!(null==c||!c.mediumMemberAt),m=(0,b.Ij)().paragraphRefsMappers.paragraphTitlesRefsByStyleMap,p=(0,r.useState)(!0),V=x()(p,2),v=V[0],E=V[1];r.useEffect((function(){return a.event("experiment.eligible",{experimentId:"ec7b685b3f40"}),E(!0)}),[m]);var f=!d&&(o||u);return r.createElement(s.x,{display:"inline-flex",alignItems:"center",boxSizing:"border-box"},r.createElement(s.x,{flexGrow:"1"},r.createElement(A.P,{size:"full"},r.createElement(s.x,{ref:t,display:"flex"},f?u?r.createElement(j,{postId:n}):null:v?r.createElement(M,{onClick:function(){if(v){var e=new Audio;e.autoplay=!0,e.src="data:audio/mpeg;base64,SUQzBAAAAAABEVRYWFgAAAAtAAADY29tbWVudABCaWdTb3VuZEJhbmsuY29tIC8gTGFTb25vdGhlcXVlLm9yZwBURU5DAAAAHQAAA1N3aXRjaCBQbHVzIMKpIE5DSCBTb2Z0d2FyZQBUSVQyAAAABgAAAzIyMzUAVFNTRQAAAA8AAANMYXZmNTcuODMuMTAwAAAAAAAAAAAAAAD/80DEAAAAA0gAAAAATEFNRTMuMTAwVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQsRbAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQMSkAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",E(!1)}}}):r.createElement(K,{postId:n,buttonStyle:O,audioIconStyle:D,postBodyRef:l},r.createElement(T.z,{className:i(O)},r.createElement(B.Z,{className:i(D)}),r.createElement(I.F,{scale:"M",color:"ACCENT"},"0:00")))))))})),Y=n(73279),X={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MaybeTextToSpeechQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"detectedLanguage"}},{kind:"Field",name:{kind:"Name",value:"wordCount"}}]}}]}}]},Z=function(){return r.createElement(s.x,{display:"inline-block",padding:"0 8px",ariaHidden:"true"},r.createElement(Y.O,null))},$=function(e){var t,n,l,o,i=e.postId,a=e.postBodyRef,c=e.isLockedPreviewOnly,s=e.isPublished,u=(0,g.a)(X,{variables:{postId:i}}),d=u.data,m=u.error,p=u.loading;if(!i||p||m)return null;var V=null!==(t=null==d||null===(n=d.post)||void 0===n?void 0:n.wordCount)&&void 0!==t?t:0,v=null!==(l=null==d||null===(o=d.post)||void 0===o?void 0:o.detectedLanguage)&&void 0!==l?l:"";return!s||s&&"en"===v&&V>20?r.createElement(r.Fragment,null,r.createElement(Z,null),r.createElement(Q,{postId:i,postBodyRef:a,isLockedPreviewOnly:c})):null},q=function(){return r.createElement(s.x,{display:"inline-block",padding:"0 8px",ariaHidden:"true"},r.createElement(Y.O,null))},J=function(e){var t=e.showStar,n=e.post,l=e.postBodyRef,o=e.isLockedPreviewOnly,i=n.firstPublishedAt,a=n.readingTime,c=(0,k.VB)({name:"enable_speechify_widget",placeholder:!1});return r.createElement(r.Fragment,null,Boolean(i)&&r.createElement(r.Fragment,null,r.createElement(I.F,{scale:"M",playwrightClassName:"pw-published-date"},r.createElement(v.E,{timestamp:i})),r.createElement(q,null)),r.createElement(E.N,{scale:"M",tag:"div",readingTime:a}),t&&r.createElement(r.Fragment,null,r.createElement(q,null),r.createElement(V.U,{post:n})),!i&&r.createElement(r.Fragment,null,r.createElement(q,null),r.createElement(I.F,{color:"DARKER",scale:"M"},r.createElement(f.FV,{post:n}))),c&&r.createElement(r.Fragment,null,r.createElement($,{postId:n.id,postBodyRef:l,isLockedPreviewOnly:o,isPublished:!!i})))},ee=function(e){var t=e.post,n=e.creator,i=e.postBodyRef,a=e.isLockedPreviewOnly,c=void 0!==a&&a,s=e.showInResponseToEntityPreview,u=void 0!==s&&s,d=e.showStar,V=void 0!==d&&d,v=e.viewerId,E=e.playwrightClassName;if(!n)return null;var f="post_actions_header";return r.createElement(l.c,{creator:n,viewerId:v,playwrightClassName:E,entityInfos:r.createElement(J,{post:t,showStar:V,postBodyRef:i,isLockedPreviewOnly:c}),desktopActionsButtons:r.createElement(m,{post:t,source:f}),mobileActionsButtons:r.createElement(p,{post:t,source:f}),responseToEntityPreview:u&&r.createElement(o.h,{padding:"24px 0 0",post:t,postPreviewMarginBottom:40})})}},22836:(e,t,n)=>{"use strict";n.d(t,{l:()=>V});var r=n(67294),l=n(68427),o=n(71652),i=n(96370),a=n(77355),c=n(93310),s=n(21755),u=n(87691),d=n(17583),m=n(58992),p=function(e){var t=e.children;return(0,d.s)()===s.j.xl?r.createElement(i.P,{size:"app"},r.createElement(a.x,{borderBottom:"BASE_LIGHTER"},t)):r.createElement(a.x,{borderBottom:"BASE_LIGHTER"},r.createElement(i.P,{size:"app"},t))},V=function(e){var t=e.collection,n=e.post,i=t.name,s=(0,l.R)(t);return(0,m.l)(n)?r.createElement(p,null,r.createElement(a.x,{display:"flex",alignItems:"center",height:"56px"},r.createElement(a.x,{marginRight:"16px"},r.createElement(c.r,{href:s},r.createElement(o.v,{collection:t,size:32,circular:!0}))),r.createElement(a.x,{marginRight:"3px",flexShrink:"0"},r.createElement(u.F,{scale:"M",color:"LIGHTER",tag:"div"},"Published in")),r.createElement(c.r,{href:s},r.createElement(u.F,{scale:"M",color:"DARKER",clamp:1},i)))):null}},9202:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});var r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"useShouldShowGiveStaffPickAwardQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"awardByType"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"STAFF_PICK"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}}]}},{kind:"Field",name:{kind:"Name",value:"awardAvailability"}}]}}]}}]}}]}}]}},97980:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MainContent:()=>Xe,useLoader:()=>Ye});var r=n(59713),l=n.n(r),o=n(64718),i=n(67294),a=n(5977),c=n(83447),s=n(94986),u=n(78656),d=n(19535),m=n(8903),p=n(66411),V=n(75221),v=n(2808),E=n(95989),f=n(50458),g=n(8459),w=n(39547),x=n(8851),y=n(90635),h=n(99214),b=n(87723),k=n(6455),S=n(7834),A=n(67927),T=n(49457),I=n(51802),P=n(48835),_=n(54878),C=n(98482),B=n(25735),R=n(6443),F=n(84052),N=n(10877),L=n(66018),O=n(79246),D=n(66149),U=n(77355),M=n(96370),z=n(18634),H=n(68821),G=n(99849),W=n(28655),j=n.n(W),K=n(67154),Q=n.n(K),Y=n(63038),X=n.n(Y),Z=n(92471),$=n(20113),q=n(31889),J=n(34135),ee={xs:"XS",sm:"XS",md:"S",lg:"S",xl:"S"},te=function(e){var t=e.children,n=(0,q.F)(),r=(0,i.useState)(!1),l=X()(r,2),o=l[0],a=l[1],c=o?2:1,s=function(){window.innerWidth<=n.breakpoints.sm&&a(!0)};return(0,i.useEffect)((function(){return s(),J.V6.on("resize",s),function(){return J.V6.off("resize",s)}}),[]),i.createElement($.X6,{scale:ee,clamp:c},t)},ne=n(82405),re=n(19308),le=n(6177),oe=n(43220),ie=n(75880),ae=n(24330),ce=n(32317),se=n(69116),ue=n(13454),de=n(18733),me=n(47230),pe=n(98096),Ve=n(68894),ve=n(3207),Ee=function(e){var t=e.buttonSize,n=e.targetUserId,r=(0,Ve.O)(!1),l=X()(r,3),o=l[0],a=l[1],c=l[2],s=(0,q.F)(),u=(0,de.Uo)().baseTheme,d=(0,ve.q3)(s,u),m=(0,R.H)().value;return m?i.createElement(pe.f,{theme:d},i.createElement(ue.E,{targetUserId:n,viewerId:m&&m.id},(function(e){var n=e.mutate;return i.createElement(me.z,{buttonStyle:o?"SUBTLE":"ERROR",onClick:n,size:t||"REGULAR",onMouseEnter:a,onMouseLeave:c},o?"Unblock":"Blocked")}))):null},fe=n(93310),ge=n(8431),we=n(87691),xe=n(43487),ye=n(68216);function he(){var e=j()(["\n  fragment PostFooterBylineAurora_post on Post {\n    id\n    creator {\n      name\n      username\n      bio\n      id\n      ...UserFollowButton_user\n      ...auroraHooks_publisher\n      ...userUrl_user\n      ...UserSubscribeButton_user\n    }\n    collection {\n      name\n      description\n      ...CollectionFollowButton_collection\n      ...collectionUrl_collection\n    }\n    ...UserFollowButton_post\n    ...CollectionFollowButton_post\n    ...useShowAuthorNewsletterV3Promo_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return he=function(){return e},e}var be="follow_footer",ke=function(e){var t=e.post,n=e.maxWidthSize,r=void 0===n?"inset":n,l=t.creator,o=t.collection,a=(0,xe.v9)((function(e){return e.config.authDomain})),c=(0,xe.v9)((function(e){return e.navigation.currentLocation})),s=(0,R.H)().value,u=(0,q.F)(),d=(0,ie.Pd)(l).viewerEdge,m=i.useState(0),p=X()(m,2),V=p[0],v=p[1],E=V<=u.breakpoints.sm,g=function(){v(window.innerWidth)};i.useEffect((function(){return g(),J.V6.on("resize",g),function(){return J.V6.off("resize",g)}}),[]);var w="REGULAR",x=(null==s?void 0:s.id)===(null==l?void 0:l.id)||E?void 0:"168px",y={display:"flex",justifyContent:"space-between",alignItems:"center"},h=(0,oe.KW)(t.creator),b=o?(0,f.WGd)(o,c,a):l?(0,f.AWr)(l,a):"",k="More from ".concat(o?o.name:null==l?void 0:l.name),S=o?o.description:null==l?void 0:l.bio,A=null;l&&(A=s&&null!=d&&d.isBlocking?i.createElement(Ee,{buttonSize:w,targetUserId:l.id}):i.createElement(U.x,{display:"flex",marginLeft:"8px"},i.createElement(ae.N,{creator:l,followButtonSize:w,post:t,susiEntry:be})));var T=o?i.createElement(ne.F,{buttonSize:w,collection:o,post:t,susiEntry:be}):A;return i.createElement(U.x,{print:{display:"none"}},(null==l?void 0:l.name)&&(null==l?void 0:l.username)&&!h&&i.createElement(U.x,{paddingBottom:"30px"},i.createElement(M.P,{size:r},i.createElement(U.x,Q()({},y,{borderTop:"BASE_LIGHTER",paddingTop:"33px"}),i.createElement(U.x,null,i.createElement(ge.Lh,{scale:"S"},"Written by"),i.createElement(te,null,i.createElement(fe.r,{href:(0,f.AWr)(l,a)},l.name||l.username))),A),l.bio&&i.createElement(U.x,{paddingTop:"6px",paddingRight:x},i.createElement(we.F,{scale:"M"},l.bio)))),(o||h)&&i.createElement(U.x,{paddingTop:"32px",paddingBottom:"4px",backgroundColor:"BASE_LIGHT"},i.createElement(M.P,{size:r},i.createElement(U.x,y,i.createElement(te,null,i.createElement(fe.r,{href:b},k)),T),S&&i.createElement(U.x,{paddingTop:"5px",paddingRight:x,wordBreak:"break-word"},i.createElement(we.F,{scale:"M"},S)))))};function Se(){var e=j()(["\n  fragment PostFooterCollectionButton_collection on Collection {\n    id\n    name\n    ...collectionUrl_collection\n  }\n  ","\n"]);return Se=function(){return e},e}(0,Z.Ps)(he(),re.I,re.b,ye.nf,ce.S$,ce.sj,oe.C5,ye.$m,le.b,se.w);var Ae=function(e){var t=e.collection,n=(0,xe.v9)((function(e){return e.config.authDomain})),r=(0,xe.v9)((function(e){return e.navigation.currentLocation}));return i.createElement(i.Fragment,null,(null==t?void 0:t.name)&&i.createElement(U.x,{maxWidth:"100%",textAlign:"center"},i.createElement(me.z,{buttonStyle:"STRONG",href:(0,f.WGd)(t,r,n)},"Read more from ",t.name)))},Te=((0,Z.Ps)(Se(),ye.nf),n(68356)),Ie=n.n(Te),Pe=n(50742),_e=Ie()({loading:function(){return null},loader:function(){return Promise.all([n.e(5441),n.e(3193)]).then(n.bind(n,54894))},modules:["./PostNextFiveStories"],webpack:function(){return[54894]},render:(0,Pe.n)("PostNextFiveStories")}),Ce=function(e){var t=e.post,n=e.rootMargin,r=e.target,l=i.useState(!1),o=X()(l,2),a=o[0],c=o[1];return a?i.createElement(_e,{post:t,target:r,rootMargin:n}):(J.V6.on("load",(function(){return c(!0)})),null)},Be=function(e){var t=e.post,n=e.target,r=i.useRef(null),l=t.collection;return i.createElement(U.x,{ref:r},i.createElement(U.x,{backgroundColor:"BASE_LIGHT",print:{display:"none"}},i.createElement(ke,{post:t,maxWidthSize:"app"}),i.createElement(U.x,{paddingTop:"25px"},i.createElement(Ce,{post:t,target:n||r}),l&&i.createElement(U.x,{paddingBottom:"96px",paddingTop:"40px"},i.createElement(Ae,{collection:l})))))},Re=n(29969),Fe=n(1951),Ne=n(40922),Le=function(e){var t=e.post,n=t.id,r=t.collection,l=t.creator,o=(0,Ne._)(r),a=(0,Fe.g)(t);return r&&o?i.createElement(U.x,{marginBottom:"40px"},i.createElement(Re.X,{postId:n,publisher:r})):l&&a.value?i.createElement(U.x,{marginBottom:"40px"},i.createElement(Re.X,{postId:n,publisher:l})):null},Oe=n(87079),De=n(22836),Ue=Ie()({loading:function(){return null},loader:function(){return Promise.all([n.e(957),n.e(3158)]).then(n.bind(n,69788))},modules:["./PostGiveStaffPickAward"],webpack:function(){return[69788]},render:(0,Pe.n)("PostGiveStaffPickAward")}),Me=Ie()({loading:function(){return null},loader:function(){return n.e(8934).then(n.bind(n,1641))},modules:["./PostStaffPickAwardHeader"],webpack:function(){return[1641]},render:(0,Pe.n)("PostStaffPickAwardHeader")}),ze=n(9202),He=Ie()({loading:function(){return null},loader:function(){return n.e(5313).then(n.bind(n,25))},modules:["./PostGiveTipOnExternalPlatform"],webpack:function(){return[25]},render:(0,Pe.n)("PostGiveTipOnExternalPlatform")}),Ge=function(e){var t,n,r,l,a,c,s=e.post,u=e.meteringInfo,d=i.useRef(null),m=s.isLocked,p=s.collection,v=s.creator,E=s.content.isLockedPreviewOnly,f=p||v,W=(0,R.H)().value,j=!!W,K=(p||{}).googleAnalyticsId,Q=K?[K]:null;(0,x.t)({ids:Q}),(0,H.V)(d,s),(0,G.t)(j,d,s),(0,h.i)(s),(0,D.Q)(),(0,P.q)(s),(0,I.t)({post:s,meteringInfo:u});var Y=m?{className:"meteredContent"}:{},X=(null===(t=s.creator)||void 0===t?void 0:t.name)||(null===(n=s.creator)||void 0===n?void 0:n.username)||"the author",Z=null===(r=s.creator)||void 0===r?void 0:r.id,$=!(null==W||!W.id)&&(null==W?void 0:W.id)===Z,q=function(e){var t,n=e.postId,r=e.isViewerPostCreator,l=e.isLoggedIn,a=(0,o.a)(ze.J,{variables:{postId:n},ssr:!1,skip:!n||!l||r}),c=a.data,s=a.loading,u=null==c||null===(t=c.post)||void 0===t?void 0:t.viewerEdge,d=!(null==u||!u.awardAvailability.includes(V.w2.STAFF_PICK)),m=!(null==u||!u.awardByType);return{showGiveStaffPickAward:i.useMemo((function(){return!s&&!!u&&(m||d)}),[u,s]),viewerHasAwarded:m,showGiveStaffPickAwardLoading:s}}({postId:s.id,isViewerPostCreator:$,isLoggedIn:j}),J=q.showGiveStaffPickAward,ee=q.viewerHasAwarded,te=q.showGiveStaffPickAwardLoading,ne=i.useMemo((function(){return!te&&!J&&!E&&f}),[te,J,E,f]),re=s.countToShowAwardBadge.totalCount>0,le=(0,B.VB)({name:"can_send_tips_v0",placeholder:!1})&&!!Z,oe=!!(0,B.VB)({name:"enable_plan_options_on_paywall",placeholder:!1});return i.createElement(U.x,null,i.createElement(C.k,{post:s},i.createElement(k.h,{post:s}),i.createElement(O.N,null),i.createElement(L.Lv,{post:s,user:v,forceLoad:(null==W?void 0:W.id)===(null==v?void 0:v.id)}),p&&i.createElement(De.l,{collection:p,post:s}),i.createElement(U.x,{marginBottom:{xs:"52px",sm:"52px",md:"68px",lg:"68px",xl:"68px"}},i.createElement(M.P,{size:"app"},i.createElement("article",Y,i.createElement(U.x,null,i.createElement(b.m,{post:s,meteringInfo:u}),i.createElement(N.T,{post:s},i.createElement(U.x,null,v&&s&&i.createElement(Oe.O,{creator:v,post:s,postBodyRef:d,isLockedPreviewOnly:!!s.content.isLockedPreviewOnly,showInResponseToEntityPreview:!0,showStar:!!s.isLocked,viewerId:null==W?void 0:W.id,playwrightClassName:"pw-post-byline-header"}),re&&i.createElement(Me,{postId:s.id}),i.createElement(S.b,{isAuroraPostPageEnabled:!0,post:s,ref:d,richTextStyle:"INLINE"}))))),i.createElement(y.c,{post:s,meteringInfo:u,excludePadding:!oe}))),!E&&i.createElement(T.F,{post:s}),i.createElement(g.T,{isDockingEnabled:!1,undockedBackgroundColor:"BACKGROUND",maxWidthSize:"app"},i.createElement(A.F,{post:s,useSocialPopover:!0,shouldHideClapsText:!0})),i.createElement(w.p,{post:s}),le&&i.createElement(He,{creatorName:X,creatorId:Z,postId:s.id}),ne&&i.createElement(M.P,{size:"app"},i.createElement(Le,{post:s})),J&&i.createElement(Ue,{creator:{imageId:null===(l=s.creator)||void 0===l?void 0:l.imageId,name:(null===(a=s.creator)||void 0===a?void 0:a.name)||(null===(c=s.creator)||void 0===c?void 0:c.username)||"the author"},postId:s.id,viewer:{imageId:null==W?void 0:W.imageId,name:(null==W?void 0:W.name)||(null==W?void 0:W.username)||"you",id:null==W?void 0:W.id},viewerHasAwarded:ee}),i.createElement(_.G8,{customStyleSheet:s.customStyleSheet},i.createElement(Be,{post:s,target:d}))),!j&&i.createElement(z.y,{xs:!0,sm:!0,md:!0,lg:!0},i.createElement(F.Q,null)))},We=n(35110),je=n(61280);function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ye=function(e){var t,n,r,l,a,c=(0,f.mrd)({params:e})||"",s=(0,je.X)({params:e}),u=s.error?[]:null===(t=s.data)||void 0===t?void 0:t.meterPost.postIds,p=null==u?void 0:u.includes(c),v=1===(null==u?void 0:u.length),E=(0,m.w)(c,p,v),g=(0,o.a)(We.x,{variables:{postId:c,postMeteringOptions:{forceTruncation:!1},awardType:V.w2.STAFF_PICK,isSingleColumnLayout:!1},ssr:!1,fetchPolicy:"cache-only"}),w="Post"===(null===(n=g.data)||void 0===n||null===(r=n.postResult)||void 0===r?void 0:r.__typename)&&g.data.postResult.content.isLockedPreviewOnly,x=!!E&&!w,y=(0,o.a)(We.x,{variables:{postId:c,postMeteringOptions:{forceTruncation:x},awardType:V.w2.STAFF_PICK,isSingleColumnLayout:!1},skip:!c}),h=null===(l=y.data)||void 0===l?void 0:l.postResult,b="Post"===(null==h?void 0:h.__typename)&&!(null==h||null===(a=h.content)||void 0===a||!a.isLockedPreviewOnly),k=(0,d.n)(c,b,v),S=k.content,A=h&&S?Qe(Qe({},h),{},{content:S}):h;return i.useMemo((function(){return{loading:y.loading||s.loading||!!k.loading,postQueryResult:y,postResult:A,postMeterQueryResult:s}}),[y,s,A,k])},Xe=i.memo((function(e){var t=e.postQueryResult,n=e.postResult,r=e.postMeterQueryResult,l=e.params,o=(0,f.mrd)({params:l})||"",d=t.loading,m=t.error,V=r.error,g=r.data,w=null==g?void 0:g.meterPost,x=(0,a.TH)(),y=i.useMemo((function(){return{name:"post_page",postId:o}}),[o]);return o?d?i.createElement(E.h,null):V||m?i.createElement(v.C,{error:V||m,showMetabar:!1}):(0,s.r)(n)?i.createElement(s.I,{postResult:n,showMetabar:!1}):i.createElement(u.E,{post:n,matchedPath:x.pathname,key:o},i.createElement(p.cW,{source:y},i.createElement(Ge,{post:n,meteringInfo:w}))):i.createElement(c.$,null)}))},46510:(e,t,n)=>{"use strict";n.d(t,{c:()=>v});var r=n(67294),l=n(84739),o=n(55155),i=n(28695),a=n(77355),c=n(26244),s=n(93310),u=n(87691),d=n(65968),m=n(64238),p=function(e){var t=e.creator,n=e.viewerId,p=(0,l.B)(t),V=(0,m.o)(t);return r.createElement(u.F,{tag:"div",scale:"L",color:"DARKER",playwrightClassName:"pw-author"},r.createElement(a.x,{display:"flex",marginBottom:"4px",alignItems:"center"},r.createElement(c.$,{targetDistance:15,mouseLeaveDelay:100,placement:"top",role:"tooltip",popoverRenderFn:function(){return r.createElement(i.K,{user:t})}},r.createElement(s.r,{href:p},r.createElement(a.x,{display:"flex",alignItems:"center"},t.name,V&&r.createElement(a.x,{marginLeft:"2px",marginTop:"1px"},r.createElement(d._,{size:"S"}))))),t.id!==n&&r.createElement(a.x,{display:{xs:"inline-block",sm:"inline-block",md:"inline-block",lg:"none",xl:"none"},paddingLeft:"12px"},r.createElement(o.D,{publisher:t,buttonSize:"COMPACT",susiEntry:"follow_byline"}))))},V=n(17193),v=function(e){var t=e.creator,n=e.playwrightClassName,o=e.entityInfos,i=e.viewerId,c=e.desktopActionsButtons,u=e.mobileActionsButtons,d=e.responseToEntityPreview,m=e.headerRef,v=e.marginBottom,E=void 0===v?{xs:"24px",sm:"24px",md:"24px",lg:"24px",xl:"32px"}:v,f=(0,l.B)(t);return r.createElement(a.x,{ref:m,marginTop:{xs:"32px",sm:"32px",md:"32px",lg:"32px",xl:"56px"},marginBottom:E,tag:"header",playwrightClassName:n},r.createElement(a.x,{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},r.createElement(a.x,{display:"flex"},r.createElement(a.x,{marginRight:"16px"},r.createElement(s.r,{href:f},r.createElement(V.Yt,{scale:"M",user:t}))),r.createElement(a.x,null,r.createElement(p,{creator:t,viewerId:i}),r.createElement(a.x,{display:"flex",alignItems:"center",flexWrap:"wrap"},o))),r.createElement(a.x,{display:"flex",alignItems:"center"},r.createElement(a.x,{display:{xs:"none",sm:"none",md:"inline-flex",lg:"inline-flex",xl:"inline-flex"}},c))),u,d)}},82405:(e,t,n)=>{"use strict";n.d(t,{F:()=>b});var r=n(63038),l=n.n(r),o=n(21919),i=n(67294),a=n(5977),c=n(77520),s=n(20297),u=n(25550),d=n(25267),m=n(67701),p=n(26350),V=n(50563),v=n(93310),E=n(77355),f=n(47230),g=n(18627),w=n(66411),x=n(92661),y=n(43487),h=n(50458),b=function(e){var t,n=e.buttonSize,r=e.buttonStyleFn,h=e.collection,b=e.post,S=e.simpleLink,A=e.susiEntry,T=void 0===A?"follow_card":A,I=e.preventParentClick,P=(0,y.v9)((function(e){return e.config.authDomain})),_=(0,u.r)().viewerId,C=(0,g.Av)(),B=(0,w.pK)(),R=(0,a.TH)(),F=(0,x.$B)(R.pathname),N=null==F||null===(t=F.route)||void 0===t?void 0:t.name,L=(0,m.gY)(h),O=L.viewerEdge,D=L.loading,U=function(e,t){var n=(0,o.D)(s.e),r=l()(n,1)[0];return i.useCallback((function(){return r({variables:{id:e.id},optimisticResponse:{followCollection:{__typename:"Collection",id:e.id,name:e.name,viewerEdge:{__typename:"CollectionViewerEdge",id:"collectionId:".concat(e.id,"-viewerId:").concat(t),isFollowing:!0}}},update:function(n){n.modify({id:"User:".concat(t),fields:{missionControl:(0,V.im)("followedCollections",!0),followingCollectionConnection:(0,V.Hc)(e.id)}})}})}),[e.id])}(h,_),M=function(e,t){var n=(0,o.D)(s.X),r=l()(n,1)[0];return i.useCallback((function(){return r({variables:{id:e.id},optimisticResponse:{unfollowCollection:{__typename:"Collection",id:e.id,name:e.name,viewerEdge:{__typename:"CollectionViewerEdge",id:"collectionId:".concat(e.id,"-viewerId:").concat(t),isFollowing:!1}}},update:function(e){e.modify({id:"User:".concat(t),fields:{missionControl:(0,V.im)("followedCollections",!1)}})}})}),[e.id])}(h,_),z=i.useCallback((function(e){I&&e.preventDefault(),C.event("collection.followed",{collectionId:h.id,followSource:B}),U()}),[h,I,B,C]),H=i.useCallback((function(e){I&&e.preventDefault(),C.event("collection.unfollowed",{collectionId:h.id,followSource:B}),M()}),[I,B,C]),G=!(null==O||!O.isFollowing),W=r?r(!!G):G?"OBVIOUS":"STRONG";return S?i.createElement(v.r,{onClick:G?H:z},i.createElement(E.x,{display:"flex",flexDirection:"row"},G?"Unfollow publication":"Follow publication")):i.createElement(d.I,null,(function(e){return e?i.createElement(f.z,{size:n,onClick:G?H:z,buttonStyle:W,loading:D},G?"Following":"Follow"):i.createElement(p.R,{collection:h,buttonStyle:G?"OBVIOUS":"STRONG",isButton:!0,buttonSize:"REGULAR",operation:"register",actionUrl:k(P,h,b)||"",susiEntry:T,pageSource:(0,c.x)(N,"register")},G?"Following":"Follow")}))},k=function(e,t,n){return t.slug&&(n&&n.id?(0,h.TAb)(e,t.slug,n.id):(0,h.LlO)(e,t.slug))}},29969:(e,t,n)=>{"use strict";n.d(t,{X:()=>S});var r=n(63038),l=n.n(r),o=n(67294),i=n(92519),a=n(83302),c=n(25735),s=n(6443),u=n(67701),d=n(77355),m=n(93310),p=n(20113),V=n(87691),v=n(18627),E=n(66411),f=n(14646),g=n(31889),w=n(34135),x=n(97217),y=n(43487),h=n(50458),b=function(e,t){return{borderTop:"1px solid ".concat(e.baseColor.border.darker),padding:"24px 0",marginBottom:"25px",minHeight:t}},k=function(e){var t=e.viewer,n=e.newsletterV3,r=e.newsletterV3LandingUrl,l=e.useCustomDomainLOFlow,c=e.isVertical,s=e.handleClick;return n?t||l?o.createElement(i.x,{newsletterV3:n,buttonStyle:"SUBTLE",redirectUrl:l?r:void 0,isVertical:c}):o.createElement(a.Q,{newsletterV3:n,isVertical:c,handleClick:s}):null},S=function(e){var t,n,r,i,a,S=e.postId,A=e.publisher,T=e.isVertical,I=void 0!==T&&T,P=o.useRef(null),_=(0,y.v9)((function(e){return e.config.authDomain})),C=(0,v.Av)(),B=(0,f.I)(),R=(0,g.F)(),F=(0,s.H)().value,N=!!(0,c.VB)({name:"enable_newsletter_lo_flow_custom_domains",placeholder:!1}),L=o.useState(!1),O=l()(L,2),D=O[0],U=O[1],M=o.useState("0px"),z=l()(M,2),H=z[0],G=z[1],W=null==(0,y.v9)((function(e){return e.navigation.currentLocation})).match("http[s]?://[^/]*".concat(_)),j=!F&&W&&N,K=A.newsletterV3,Q=null==K?void 0:K.type,Y=A.username,X=void 0===Y?"":Y,Z=(0,h.iBn)(null!==(t=null==K?void 0:K.slug)&&void 0!==t?t:"",_,Q===x.Rr.NEWSLETTER_TYPE_COLLECTION?A:void 0,Q===x.Rr.NEWSLETTER_TYPE_AUTHOR&&X?X:void 0),$="Collection"===A.__typename?A:void 0,q=(0,u.gY)($).viewerEdge;switch(Q){case x.Rr.NEWSLETTER_TYPE_COLLECTION:n="Sign up for ".concat(null==K?void 0:K.name),r="0px",i="You're an editor of ".concat(null==K?void 0:K.name),a=null==q?void 0:q.isEditor;break;case x.Rr.NEWSLETTER_TYPE_AUTHOR:n=(null==K?void 0:K.promoHeadline)||"Get an email whenever ".concat(A.name," publishes."),r="6px",i="You cannot subscribe to yourself",a=A.viewerEdge.isUser}D&&(n="Check your inbox.");var J=!1,ee=function(){!J&&te()&&(C.event("newsletterV3.promoViewed",{newsletterV3Id:null==K?void 0:K.id,postId:S}),J=!0)},te=function(){var e;if(!P.current)return!1;var t=null===(e=P.current)||void 0===e?void 0:e.getBoundingClientRect(),n=t.top+t.height/2;return n>=0&&n<=window.innerHeight};return o.useEffect((function(){return ee(),window&&w.V6.on("scroll",ee),function(){w.V6.off("scroll",ee)}}),[]),o.useEffect((function(){var e;if(P.current){var t=(null===(e=P.current)||void 0===e?void 0:e.getBoundingClientRect()).height;G("".concat(t,"px"))}}),[P]),K&&o.createElement(E.cW,{source:{name:"newsletter_v3_promo",susiEntry:"newsletter_v3_promo"}},o.createElement("div",{ref:P,className:I?void 0:B(b(R,H))},o.createElement(d.x,{wordBreak:"break-word",paddingBottom:r},o.createElement(p.X6,{scale:"S"},n)),Q===x.Rr.NEWSLETTER_TYPE_COLLECTION&&!D&&o.createElement(o.Fragment,null,o.createElement(d.x,{paddingTop:"4px"},o.createElement(V.F,{tag:"h3",scale:"S",color:"DARKER"},"By ".concat(A.name))),o.createElement(d.x,{paddingTop:"8px",paddingBottom:"10px"},o.createElement(V.F,{scale:"S",color:"DARKER"},null==K?void 0:K.description," ",o.createElement(m.r,{inline:!0,linkStyle:"OBVIOUS",href:Z},"Take a look.")))),Q===x.Rr.NEWSLETTER_TYPE_AUTHOR&&(null==K?void 0:K.promoBody)&&!D&&o.createElement(o.Fragment,null,o.createElement(d.x,{wordBreak:"break-word",paddingTop:"8px",paddingBottom:"8px"},o.createElement(V.F,{scale:"S",color:"DARKER"},null==K?void 0:K.promoBody))),a?o.createElement(d.x,{paddingTop:"10px"},o.createElement(V.F,{scale:"S",color:"DARKER"},i)):o.createElement(d.x,{display:"flex",flexWrap:"wrap"},o.createElement(k,{viewer:F,useCustomDomainLOFlow:j,newsletterV3:K,newsletterV3LandingUrl:Z,isVertical:I,handleClick:function(){return U(!0)}}))))}},1951:(e,t,n)=>{"use strict";n.d(t,{g:()=>i,t:()=>a});var r=n(67294),l=n(9354),o=n(75880),i=function(e){var t=e.creator,n=a(t);return t?n:{value:!1}},a=function(e){var t,n,i,a=(0,o.Pd)(e),c=a.viewerEdge,s=a.loading,u=r.useRef(null),d=(0,l.T)({newsletterSlug:null==e||null===(t=e.newsletterV3)||void 0===t?void 0:t.slug,username:null==e?void 0:e.username}),m=d.viewerEdge,p=d.loading;return(i=null!==u.current?{value:u.current}:s||p?{loading:!0}:null!=e&&null!==(n=e.newsletterV3)&&void 0!==n&&n.showPromo?{value:!(!(null!=c&&c.isUser||null==m)&&m.isSubscribed)}:{value:!1}).loading||void 0===i.value||null!==u.current||(u.current=i.value),i}},40922:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});var r=n(67701),l=n(9354),o=function(e){var t=(e||{}).newsletterV3,n=(0,r.gY)(e),o=n.viewerEdge,i=n.loading,a=(0,l.T)({newsletterSlug:null==t?void 0:t.slug,collectionSlug:null==e?void 0:e.slug}),c=a.viewerEdge,s=a.loading;return!(null==t||!t.showPromo||i||s||!(null!=o&&o.isEditor||null==c)&&c.isSubscribed)}},18704:(e,t,n)=>{"use strict";n.d(t,{N:()=>i});var r=n(67294),l=n(87691),o=n(21372);function i(e){var t=e.readingTime,n=e.scale,i=void 0===n?"S":n,a=e.includeRead,c=void 0===a||a,s=e.color,u=e.tag,d=void 0===u?"span":u,m=c?" read":"";return r.createElement(l.F,{scale:i,color:s,tag:d,playwrightClassName:"pw-reading-time"},"".concat((0,o.Vd)(t||0)," min").concat(m))}},87723:(e,t,n)=>{"use strict";n.d(t,{m:()=>i});var r=n(67294),l=n(58327),o=n(52278),i=function(e){var t=e.meteringInfo,n=e.post;return r.createElement(o.M,{columns:8,gutter:!1,padding:{xs:"0 8px",sm:"0 8px",md:"0 16px",lg:"0 16px",xl:"0 16px"},tag:"div"},!!n.isLocked&&!!t&&r.createElement(l.r,{meteringInfo:t,post:n}))}},55155:(e,t,n)=>{"use strict";n.d(t,{D:()=>d,f:()=>m});var r=n(28655),l=n.n(r),o=n(92471),i=n(67294),a=n(82405),c=n(19308),s=n(32317);function u(){var e=l()(["\n  fragment PublisherFollowButton_publisher on Publisher {\n    __typename\n    ... on Collection {\n      ...CollectionFollowButton_collection\n    }\n    ... on User {\n      ...UserFollowButton_user\n    }\n  }\n  ","\n  ","\n"]);return u=function(){return e},e}var d=function(e){var t=e.publisher,n=e.buttonSize,r=e.isLinkStyle,l=void 0!==r&&r,o=e.susiEntry,c=e.width;return"Collection"===t.__typename?i.createElement(a.F,{buttonSize:n,collection:t,susiEntry:o}):i.createElement(s.Bv,{buttonSize:n,user:t,isLinkStyle:l,susiEntry:o,width:c})},m=(0,o.Ps)(u(),c.I,s.sj)},54878:(e,t,n)=>{"use strict";n.d(t,{v$:()=>m,G8:()=>p,Ps:()=>V,Kc:()=>v});var r=n(28655),l=n.n(r),o=n(92471),i=n(67294),a=n(31889),c=n(98096),s=n(3207);function u(){var e=l()(["\n  fragment CustomThemeProvider_customStyleSheet on CustomStyleSheet {\n    id\n    ...customDefaultBackgroundTheme_customStyleSheet\n    ...customStyleSheetFontTheme_customStyleSheet\n  }\n  ","\n  ","\n"]);return u=function(){return e},e}function d(){var e=l()(["\n  fragment CustomThemeProvider_publisher on Publisher {\n    id\n    __typename\n    ... on Collection {\n      colorPalette {\n        ...customDefaultBackgroundTheme_colorPalette\n      }\n    }\n  }\n  ","\n"]);return d=function(){return e},e}var m=function(e,t){var n=(0,a.F)(),r="Collection"===(null==t?void 0:t.__typename)?null==t?void 0:t.colorPalette:null;return(0,s.ZI)(e,(0,s.zI)(e,n,r))},p=function(e){var t=e.customStyleSheet,n=e.publisher,r=e.children,l=m(t,n);return i.createElement(c.f,{theme:l},r)},V=(0,o.Ps)(d(),s.L9),v=(0,o.Ps)(u(),s.Ui,s.VE)}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/PostPage.MainContent.937c775f.chunk.js.map