(self.webpackChunklite=self.webpackChunklite||[]).push([[3720],{41422:(e,n,i)=>{"use strict";i.d(n,{L:()=>l});var a=i(319),t=i.n(a),d=i(95472),o=i(68216),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3SubscribeByEmail_newsletterV3"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NewsletterV3"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"collectionDefaultBackgroundTheme_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}}]}}]}}].concat(t()(d.Gi.definitions),t()(o.nf.definitions))}},75865:(e,n,i)=>{"use strict";i.d(n,{WZ:()=>s,kD:()=>m,Rf:()=>k});var a=i(319),t=i.n(a),d=i(13156),o=i(41422),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3Promo_newsletterV3"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NewsletterV3"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"promoHeadline"}},{kind:"Field",name:{kind:"Name",value:"promoBody"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3SubscribeButton_newsletterV3"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3SubscribeByEmail_newsletterV3"}}]}}].concat(t()(d.B.definitions),t()(o.L.definitions))},s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3Promo_publisher_User"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isUser"}}]}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3Promo_newsletterV3"}}]}}]}}].concat(t()(l.definitions))},m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3Promo_publisher_Collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3Promo_newsletterV3"}}]}}]}}].concat(t()(l.definitions))},k={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3Promo_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3Promo_publisher_User"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3Promo_publisher_Collection"}}]}}]}}].concat(t()(s.definitions),t()(m.definitions))}},6177:(e,n,i)=>{"use strict";i.d(n,{F:()=>t,b:()=>d});var a=i(319),t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"showPromo"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}}]}}]},d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_user"}}]}}]}}].concat(i.n(a)()(t.definitions))}},12182:(e,n,i)=>{"use strict";i.d(n,{fu:()=>_,e9:()=>g});var a=i(319),t=i.n(a),d=i(18821),o=i(98007),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ReportUserMenuItem_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_post"}}]}}].concat(t()(o.qU.definitions))},s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ResponsePopoverMenu_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ReportUserMenuItem_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"HideResponseMenuItem_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"BlockUserMenuItem_post"}}]}}].concat(t()(l.definitions),t()([{kind:"FragmentDefinition",name:{kind:"Name",value:"HideResponseMenuItem_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isEditor"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]),t()([{kind:"FragmentDefinition",name:{kind:"Name",value:"BlockUserMenuItem_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]))},m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ResponsePopoverMenu_catalog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ReportUserMenuItem_catalog"}},{kind:"FragmentSpread",name:{kind:"Name",value:"HideResponseMenuItem_catalog"}},{kind:"FragmentSpread",name:{kind:"Name",value:"BlockUserMenuItem_catalog"}}]}}].concat(t()([{kind:"FragmentDefinition",name:{kind:"Name",value:"ReportUserMenuItem_catalog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}}]),t()([{kind:"FragmentDefinition",name:{kind:"Name",value:"HideResponseMenuItem_catalog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]),t()([{kind:"FragmentDefinition",name:{kind:"Name",value:"BlockUserMenuItem_catalog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]))},k={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ResponseHeader_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsVerifiedBookAuthor_user"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ResponsePopoverMenu_post"}}]}}].concat(t()(d.H.definitions),t()(s.definitions))},r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ResponseHeader_catalog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsVerifiedBookAuthor_user"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ResponsePopoverMenu_catalog"}}]}}].concat(t()(d.H.definitions),t()(m.definitions))},u={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SimpleResponse_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ResponseHeader_post"}}]}}].concat(t()(k.definitions))},c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SimpleResponse_catalog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ResponseHeader_catalog"}}]}}].concat(t()(r.definitions))},p=i(13740),S={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ReadOrEditSimpleResponse_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SimpleResponse_post"}}]}}].concat(t()(u.definitions))},v={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ReadOrEditSimpleResponse_catalog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"username"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"SimpleResponse_catalog"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getCatalogSlugId_Catalog"}}]}}].concat(t()(c.definitions),t()(p.g.definitions))},N={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"StoryResponse_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ResponseHeader_post"}}]}}].concat(t()(k.definitions))},F={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"StoryResponse_catalog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ResponseHeader_catalog"}}]}}].concat(t()(r.definitions))},f={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ThreadedReply_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ReadOrEditSimpleResponse_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"StoryResponse_post"}}]}}].concat(t()(S.definitions),t()(N.definitions))},g={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ThreadedReplies_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ThreadedReply_post"}}]}}].concat(t()(f.definitions))},y={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ThreadedReply_catalog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ReadOrEditSimpleResponse_catalog"}},{kind:"FragmentSpread",name:{kind:"Name",value:"StoryResponse_catalog"}}]}}].concat(t()(v.definitions),t()(F.definitions))},_={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ThreadedReplies_catalog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ThreadedReply_catalog"}}]}}].concat(t()(y.definitions))}},98482:(e,n,i)=>{"use strict";i.d(n,{k:()=>E});var a=i(63038),t=i.n(a),d=i(67294),o=i(6722),l=i(43242),s=i(80745),m=i(28655),k=i.n(m),r=i(87757),u=i.n(r),c=i(6479),p=i.n(c),S=i(48926),v=i.n(S),N=i(38460),F=i(92471),f=i(68356),g=i.n(f),y=i(35469);function _(){var e=k()(["\n  fragment ThreadedResponsesSidebarContent_post on Post {\n    id\n    postResponses {\n      count\n    }\n    collection {\n      id\n      viewerEdge {\n        id\n        isEditor\n      }\n    }\n    creator {\n      id\n    }\n    ...ThreadedReplies_post\n  }\n  ","\n"]);return _=function(){return e},e}var R=(0,F.Ps)(_(),y.e),h=i(76412),T=i(18733),b=i(66411),C=i(50742),D=i(97217),P=i(86742);function w(){var e=k()(["\n  fragment ThreadedResponsesSidebar_post on Post {\n    id\n    ...ThreadedResponsesSidebarContent_post\n  }\n  ","\n"]);return w=function(){return e},e}var V=g()({loading:function(){return null},loader:function(){return Promise.all([i.e(7084),i.e(6318),i.e(8121),i.e(8720),i.e(8913)]).then(i.bind(i,41469))},modules:["./ThreadedResponsesSidebarContent"],webpack:function(){return[41469]},render:(0,C.n)("ThreadedResponsesSidebarContent")}),I=function(e){var n,i,a,o,l,m,k,r,c,S=e.isResponsesSidebarVisible,F=e.inResponseToQuote,f=e.setInResponseToQuote,g=e.parentPost,y=e.continueThisThreadPost,_=e.continueThisThreadPostDepth,R=e.showPreviousSidebar,C=e.cleanupSidebar,w=e.initialSidebarRender,I=d.useState(D.sV.TOP),E=t()(I,2),M=E[0],U=E[1],H=d.useState(!1),B=t()(H,2),x=B[0],L=B[1],Q=d.useRef(null),O=(0,N.t)(P.A,{variables:{postId:g.id,postResponsesPaging:{limit:s.p4},sortType:M},ssr:!1}),A=t()(O,2),W=A[0],z=A[1],j=z.called,q=z.loading,G=z.data,Z=z.fetchMore;j||y||!S||(W(),V.preload());var J=null==G||null===(n=G.post)||void 0===n?void 0:n.responsesLocked,K=null==G||null===(i=G.post)||void 0===i?void 0:i.isLockedResponse,X=(0,s.aj)(S,w,null==G||null===(a=G.post)||void 0===a?void 0:a.threadedPostResponses,y),Y=X.responses,$=X.showCreateReplyEditor,ee=(null==G||null===(o=G.post)||void 0===o||null===(l=o.responseRootPost)||void 0===l||null===(m=l.post)||void 0===m?void 0:m.id)||"",ne=_||(null==G||null===(k=G.post)||void 0===k||null===(r=k.responseRootPost)||void 0===r?void 0:r.responseDepth)||0,ie=void 0,ae=null==Y||null===(c=Y.pagingInfo)||void 0===c?void 0:c.next;return ae&&!y&&(ie=function(){var e=v()(u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Z){e.next=5;break}return ae.__typename,n=p()(ae,["__typename"]),e.next=4,Z({variables:{postId:g.id,postResponsesPaging:n}});case 4:L(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),d.createElement(T.N8,null,d.createElement(b.cW,{source:{name:"responses",postId:g.id},extendSource:!0},d.createElement(h.I,{sidebarRef:Q,cleanupSidebar:C,isResponsesSidebarVisible:S,pagingInfoNext:ae,isFetchingNextSetOfResponses:x,setIsFetching:L,fetchMoreWithArguments:ie,initialSidebarRender:w},(function(e){var n=e.responseDistribution,i=e.setResponseDistribution,a=e.closeSidebar;return j||y?d.createElement(V,{responses:Y,parentPost:g,responsesLocked:J,isLockedResponse:K,isLoadingInitialContent:q,isFetchingNextSetOfResponses:x,isResponsesSidebarVisible:S,closeSidebar:a,showPreviousSidebar:R,inResponseToQuote:F,setInResponseToQuote:f,sidebarRef:Q,responseDistribution:n,setResponseDistribution:i,responseSortType:M,setResponseSortType:U,rootPostId:ee,postDepth:ne,isContinueThisThread:!!y,showCreateReplyEditor:$}):null}))))},E=((0,F.Ps)(w(),R),function(e){var n=e.children,i=e.post,a=(0,d.useState)(void 0),m=t()(a,2),k=m[0],r=m[1],u=(0,d.useCallback)((function(e){return function(n){r(n),e()}}),[]);return d.createElement(l.E,null,(function(e){var a=e.showPreviousSidebar,t=e.hasLoaded,l=e.initialSidebarRender,m=e.isVisible,c=e.continueThisThreadPosts,p=e.openSidebar,S=e.cleanupSidebar;return d.createElement(o.Q.Provider,{value:{openSidebarToRespondToHighlight:u(p)}},!!i&&t&&d.createElement(I,{isResponsesSidebarVisible:m&&0===c.length,parentPost:i,inResponseToQuote:k,setInResponseToQuote:r,showPreviousSidebar:a,cleanupSidebar:S,initialSidebarRender:!!l.current}),!!i&&t&&c.map((function(e,n,t){var o=(0,s.iI)(n);return d.createElement(I,{key:i.id,isResponsesSidebarVisible:m&&n===t.length-1,parentPost:i,inResponseToQuote:k,setInResponseToQuote:r,continueThisThreadPost:e,continueThisThreadPostDepth:o,showPreviousSidebar:a,cleanupSidebar:S,initialSidebarRender:!!l.current})})),n)}))})},27448:(e,n,i)=>{"use strict";i.d(n,{y:()=>s});var a=i(319),t=i.n(a),d=i(12182),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ThreadedResponsesSidebarContent_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isEditor"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ThreadedReplies_post"}}]}}].concat(t()(d.e9.definitions))},l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ThreadedResponsesSidebar_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ThreadedResponsesSidebarContent_post"}}]}}].concat(t()(o.definitions))},s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"WithResponsesSidebar_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ThreadedResponsesSidebar_post"}}]}}].concat(t()(l.definitions))}},43242:(e,n,i)=>{"use strict";i.d(n,{E:()=>p});var a=i(319),t=i.n(a),d=i(63038),o=i.n(d),l=i(38125),s=i.n(l),m=i(67294),k=i(21232),r=i(31889),u=i(34135),c=i(77280),p=function(e){var n=e.children,i=m.useState(!1),a=o()(i,2),d=a[0],l=a[1],p=(0,r.F)(),S=!!(0,c.Wd)("responsesOpen"),v=m.useState(!1),N=o()(v,2),F=N[0],f=N[1],g=m.useRef(!0),y=m.useRef(0),_=m.useState(!1),R=o()(_,2),h=R[0],T=R[1],b=m.useCallback((function(){return f(!0)}),[]),C=m.useState([]),D=o()(C,2),P=D[0],w=D[1],V=m.useCallback((function(e){g.current=!1,w([].concat(t()(P),[e]))}),[P]),I=m.useCallback((function(){w(s()(P))}),[P]),E=m.useCallback((function(){f(!1),w([]),g.current=!0}),[]);m.useEffect((function(){T(!0),f(S)}),[S]);var M=function(){window.innerWidth<p.breakpoints.md&&l(!0)};return m.useEffect((function(){return M(),u.V6.on("resize",M),function(){return u.V6.off("resize",M)}}),[]),m.useEffect((function(){var e,n,i=null===(e=window)||void 0===e||null===(n=e.document)||void 0===n?void 0:n.documentElement;return d&&null!=i&&i.style&&(F?(i.style.top="-".concat(y.current,"px"),y.current=i.scrollTop,i.style.overflow="hidden",i.style.position="fixed"):(i.style.overflow="",i.style.position="",i.style.top="",i.scrollTop=y.current)),function(){d&&null!=i&&i.style&&(i.style.overflow="",i.style.position="",i.style.top="",i.scrollTop=y.current)}}),[F]),m.createElement(k.f.Provider,{value:{addContinueThisThreadSidebar:V,openSidebar:b,closeSidebar:E}},n({showPreviousSidebar:I,hasLoaded:h,initialSidebarRender:g,isVisible:F,continueThisThreadPosts:P,openSidebar:b,cleanupSidebar:E}))}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/3720.7796e569.chunk.js.map