(self.webpackChunklite=self.webpackChunklite||[]).push([[606],{41190:(e,n,i)=>{"use strict";i.d(n,{C:()=>v,F:()=>p});var t=i(319),a=i.n(t),d=i(22412),o=i(62549),l=i(82864),s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBylineHeaderInfos_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"FragmentSpread",name:{kind:"Name",value:"DraftStatus_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Star_post"}}]}}].concat(a()(o.t.definitions),a()(l.W.definitions))},r=i(93403),m=i(15855),u=i(51277),c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBylineHeaderActionsButtons_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"BookmarkButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SharePostButtons_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuButtonWithNegativeSignal_post"}}]}}].concat(a()(r.z.definitions),a()(m.E.definitions),a()(u.v.definitions))},k=i(56785),p={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBylineHeader_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CreatorHeader_user"}}]}}].concat(a()(d.p.definitions))},v={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBylineHeader_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBylineHeaderInfos_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBylineHeaderActionsButtons_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"InResponseToEntityPreview_post"}}]}}].concat(a()(s.definitions),a()(c.definitions),a()(k.V.definitions))}},69973:(e,n,i)=>{"use strict";i.d(n,{P:()=>s,Q:()=>r});var t=i(319),a=i.n(t),d=i(84683),o=i(81712),l=i(17828),s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostCollectionHeader_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionAvatar_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherFollowButton_publisher"}}]}}].concat(a()(d.d.definitions),a()(o.f.definitions))},r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostCollectionHeader_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"shouldShowPublishedInStatus_post"}}]}}].concat(a()(l.w.definitions))}},22412:(e,n,i)=>{"use strict";i.d(n,{p:()=>u});var t=i(319),a=i.n(t),d=i(68216),o=i(18821),l=i(54341),s=i(93961),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AuthorNameTooltip_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsVerifiedBookAuthor_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserMentionTooltip_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherFollowLink_publisher"}}]}}].concat(a()(o.H.definitions),a()(l.O.definitions),a()(d.$m.definitions),a()(s.u.definitions))},m=i(27048),u={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CreatorHeader_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"AuthorNameTooltip_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvatar_user"}}]}}].concat(a()(d.$m.definitions),a()(r.definitions),a()(m.W.definitions))}},93961:(e,n,i)=>{"use strict";i.d(n,{u:()=>o});var t=i(319),a=i.n(t),d=i(81712),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherFollowLink_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherFollowButton_publisher"}}]}}].concat(a()(d.f.definitions))}},9970:(e,n,i)=>{"use strict";i.d(n,{g:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherName_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}},22330:(e,n,i)=>{"use strict";i.d(n,{RD:()=>d,Ki:()=>o,lt:()=>l});var t=i(319),a=i.n(t),d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverlappingAvatars_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]},o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverlappingAvatars_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]},l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverlappingAvatars_newsletterV3"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NewsletterV3"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"avatarImageId"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OverlappingAvatars_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OverlappingAvatars_user"}}]}}]}}].concat(a()(d.definitions),a()(o.definitions))}},58327:(e,n,i)=>{"use strict";i.d(n,{r:()=>K});var t=i(50008),a=i.n(t),d=i(63038),o=i.n(d),l=i(67294),s=i(27517),r=i(28655),m=i.n(r),u=i(92471),c=i(23450),k=i.n(c),p=i(3150),v=i(6479),S=i.n(v),N=i(59713),f=i.n(N),g=i(77355),F=i(87691),h=i(14646),y=i(97489),b=i(14804),_=function(e){var n=e.children,i=e.scale,t=void 0===i?"L":i,a=e.verticalMargins,d=void 0===a?{normal:"24px",small:"24px"}:a,o=e.horizontalMargins,s=void 0===o?{normal:"-16px",small:"-12px 0"}:o,r=e.smallPadding,m=void 0===r?"12px":r,u=e.borderRadius,c=void 0===u?"4px":u,k=e.shouldShowArrowDown,v=void 0!==k&&k,S=(0,h.I)(),N=(0,p.q)();return l.createElement(l.Fragment,null,l.createElement("div",{className:S((function(e){return f()({background:(0,b.Uy)(.05),borderRadius:c,margin:"".concat(d.small," ").concat(s.small),position:"relative"},y.xl(e),{margin:"".concat(d.normal," ").concat(s.normal)})}))},l.createElement(g.x,{display:"flex",justifyContent:"space-between",maxWidth:"740px",padding:N?{xs:"16px",sm:"16px",md:"16px",lg:"16px 24px",xl:"16px 24px"}:"16px",sm:{padding:m}},l.createElement(F.F,{scale:t,color:"DARKER"},n))),v&&l.createElement(g.x,{marginLeft:{xs:"17px",sm:"17px",md:"17px",lg:"25px",xl:"25px"}},l.createElement("div",{className:S({position:"absolute",clip:"rect(0px 14px 14px -3px)",":after":{content:"''",display:"block",width:"11px",height:"11px",background:(0,b.Uy)(.05),borderBottomRightRadius:"1px",transform:"rotate(45deg) translate(-4px, -4px)"}})})))},w=function(e){var n=e.link,i=e.text,t=e.shouldWrap,a=void 0!==t&&t,d=S()(e,["link","text","shouldWrap"]);return l.createElement(_,d,i," ",l.createElement(g.x,{display:"inline",whiteSpace:a?void 0:"nowrap"},n))},P=i(28451),T=i(43822),C=i(18627),D=i(66411),E=i(90924),x=i(92661);function R(){var e=m()(["\n  fragment LIHighlightMeter_post on Post {\n    id\n    ...UpsellClickable_post\n  }\n  ","\n"]);return R=function(){return e},e}var I=function(e){return{fontWeight:e.newFonts.detail.boldWeight}},V=function(e,n,i){return n<=0?i?l.createElement(l.Fragment,null,"This is your ",l.createElement("strong",{className:e(I)},"last free member-only story")," this month."):l.createElement(l.Fragment,null,"This is your ",l.createElement("b",null,"last")," free member-only story this month."):i?l.createElement(l.Fragment,null,"You have"," ",l.createElement("strong",{className:e(I)},n," free member-only ",k()("story",n)," left")," ","this month."):l.createElement(l.Fragment,null,"You have ",l.createElement("b",null,n)," free member-only ",k()("story",n)," left this month.")},A=function(e){var n=e.meterCount,i=e.meterLimit,t=e.post,a=(0,h.I)(),d=(0,C.Av)(),o=(0,x.H2)(),s=(0,p.q)();l.useEffect((function(){d.event("meter.viewed",{uiType:P.j.LIHighlightCTA,postId:t.id,meterCount:n})}),[]);var r=V(a,i-n,s),m=s?l.createElement(l.Fragment,null,l.createElement("span",{className:a({textDecoration:"underline"})},"Upgrade")," for unlimited access."):l.createElement(E.M,{tag:"span"},l.createElement(T.a,{linkStyle:"OBVIOUS",post:t,inline:!0,redirectUrl:o("ShowPay",{})},"Upgrade for unlimited access."));return l.createElement(D.cW,{source:{dimension:"post_counter",name:"upgrade_membership",postId:t.id}},s?l.createElement(E.M,null,l.createElement(T.a,{post:t,redirectUrl:o("ShowPay",{})},l.createElement(w,{text:r,link:m,shouldWrap:!0,scale:"M",verticalMargins:{normal:"0",small:"0"},horizontalMargins:{normal:"0",small:"0"},smallPadding:"16px",borderRadius:"8px",shouldShowArrowDown:!0}))):l.createElement(w,{text:r,link:m}))},U=((0,u.Ps)(R(),T.H),i(26350)),B=i(43487),H=function(e){var n=e.post,i=e.meteringInfo,t=(0,h.I)(),a=(0,C.Av)(),d=(0,p.q)(),o=i.postIds?i.postIds.length:0,s=null===i.unlocksRemaining?0:i.unlocksRemaining;l.useEffect((function(){a.event("meter.viewed",{uiType:P.j.LOHighlightCTA,postId:n.id,meterCount:o})}),[]);var r=function(e){switch(e){case 0:return"metered_view_3";case 1:return"metered_view_2";case 2:default:return"smart_meter"}}(s),m=(0,B.v9)((function(e){return e.config.productName})),u=d?l.createElement(l.Fragment,null,l.createElement("span",{className:t({textDecoration:"underline"})},"Sign up")," for ",m," and get an extra one."):l.createElement(U.R,{linkStyle:"OBVIOUS",inline:!0,operation:"register",susiEntry:r},"Sign up for ",m," and get an extra one"),c=V(t,s,d);return l.createElement(D.cW,{source:{postId:n.id}},d?l.createElement(U.R,{operation:"register",susiEntry:r},l.createElement(w,{text:c,link:u,shouldWrap:!0,scale:"M",verticalMargins:{normal:"0",small:"0"},horizontalMargins:{normal:"0",small:"0"},smallPadding:"16px",borderRadius:"8px",shouldShowArrowDown:!0})):l.createElement(w,{text:c,link:u,verticalMargins:{normal:"24px",small:"16px"}}))},M=i(25735),O=i(6443),L=i(80872),W=i(54712),Q=i(98067),z=i(87498),j=function(e){var n=e.meteringInfo,i=e.post,t=e.viewer,a=n.maxUnlockCount||3,d=n.postIds.length;return d<=a?(0,L.sy)()&&function(e){return e&&e.createdAt+z.pU>Date.now()}(t)?((0,L.Of)(),null):l.createElement(A,{meterCount:d,post:i,meterLimit:a}):null},q=function(e){var n=e.post,i=e.meteringInfo,t=!!(0,M.VB)({name:"enable_dismissible_regwall",placeholder:!1});switch(i.unlocksRemaining){case 0:case 1:return t?null:l.createElement(H,{post:n,meteringInfo:i});case 2:return l.createElement(H,{post:n,meteringInfo:i});default:return null}},K=function(e){var n=e.meteringInfo,i=e.post,t=(0,s.I0)(),d=(0,h.I)(),r=(0,W.xg)(),m=l.useState(!1),u=o()(m,2),c=u[0],k=u[1];l.useEffect((function(){void 0!==("undefined"==typeof document?"undefined":a()(document))&&k(!0),t((0,Q.Dl)(!1))}),[]);var p=(0,O.H)(),v=p.loading,S=p.error,N=p.value;if(v||S)return l.createElement(l.Fragment,null);var f=N&&N.mediumMemberAt||void 0,g=i&&i.creator&&i.creator.id||void 0,F=N&&N.id||void 0,y=N?f||g===F:"LOCKED_POST_SOURCE_SYNDICATED"===i.lockedSource,b=!c||!i.isLocked||!n.postIds.includes(i.id)||y,_=c&&!b,w={height:_?"100%":"0px",overflow:_?"inherit":"hidden",transition:"height 2s cubic-bezier(0.23, 1, 0.32, 1) 0s"},P=N?l.createElement(j,{meteringInfo:n,post:i,viewer:N}):l.createElement(q,{post:i,meteringInfo:n});return l.createElement("div",{className:r?d(w):void 0},!b&&P)}},41422:(e,n,i)=>{"use strict";i.d(n,{L:()=>l});var t=i(319),a=i.n(t),d=i(95472),o=i(68216),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3SubscribeByEmail_newsletterV3"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NewsletterV3"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"collectionDefaultBackgroundTheme_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}}]}}]}}].concat(a()(d.Gi.definitions),a()(o.nf.definitions))}},75865:(e,n,i)=>{"use strict";i.d(n,{WZ:()=>s,kD:()=>r,Rf:()=>m});var t=i(319),a=i.n(t),d=i(13156),o=i(41422),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3Promo_newsletterV3"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NewsletterV3"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"promoHeadline"}},{kind:"Field",name:{kind:"Name",value:"promoBody"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3SubscribeButton_newsletterV3"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3SubscribeByEmail_newsletterV3"}}]}}].concat(a()(d.B.definitions),a()(o.L.definitions))},s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3Promo_publisher_User"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isUser"}}]}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3Promo_newsletterV3"}}]}}]}}].concat(a()(l.definitions))},r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3Promo_publisher_Collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3Promo_newsletterV3"}}]}}]}}].concat(a()(l.definitions))},m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3Promo_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3Promo_publisher_User"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3Promo_publisher_Collection"}}]}}]}}].concat(a()(s.definitions),a()(r.definitions))}},6177:(e,n,i)=>{"use strict";i.d(n,{F:()=>a,b:()=>d});var t=i(319),a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"showPromo"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}}]}}]},d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_user"}}]}}]}}].concat(i.n(t)()(a.definitions))}},22504:(e,n,i)=>{"use strict";i.d(n,{C:()=>p});var t=i(319),a=i.n(t),d=i(93647),o=i(22330),l=i(54341),s=i(87010),r=i(89748),m=i(16461),u=i(46786),c=i(93403),k=i(56785),p={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBodyInserts_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"auroraHooks_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverlappingAvatars_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"auroraHooks_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserMentionTooltip_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverlappingAvatars_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ZenPostByline_user"}}]}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"isShortform"}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"Field",name:{kind:"Name",value:"type"}}]}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"CardByline_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostByline_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostFooterSocialPopover_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"BookmarkButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"InResponseToEntityPreview_post"}}]}}].concat(a()(d.C.definitions),a()(o.RD.definitions),a()(l.O.definitions),a()(o.Ki.definitions),a()(s.hO.definitions),a()(r.yu.definitions),a()(m.H.definitions),a()(u.u.definitions),a()(c.z.definitions),a()(k.V.definitions))}},70356:(e,n,i)=>{"use strict";i.d(n,{X:()=>c,Z:()=>u});var t=i(319),a=i.n(t),d=i(31289),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EntityDrivenSubscriptionCallToAction_creator"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useShouldShowEntityDrivenSubscription_creator"}}]}}].concat(a()(d.G.definitions))},l=i(78620),s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"LIHighlightMeter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UpsellClickable_post"}}]}}].concat(a()(l.H.definitions))},r=i(20121),m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MeterController_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"lockedSource"}},{kind:"FragmentSpread",name:{kind:"Name",value:"LIHighlightMeter_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"LOHighlightMeter_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiContainer_post"}}]}}].concat(a()(s.definitions),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"LOHighlightMeter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]),a()(r.qt.definitions))},u={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostHeader_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EntityDrivenSubscriptionCallToAction_creator"}}]}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"layerCake"}},{kind:"Field",name:{kind:"Name",value:"tags"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"topics"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"MeterController_post"}}]}}].concat(a()(o.definitions),a()(m.definitions))},c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostHeader_meteringInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MeterController_meteringInfo"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"MeterController_meteringInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postIds"}},{kind:"Field",name:{kind:"Name",value:"maxUnlockCount"}},{kind:"Field",name:{kind:"Name",value:"unlocksRemaining"}}]}}]))}},31289:(e,n,i)=>{"use strict";i.d(n,{G:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useShouldShowEntityDrivenSubscription_creator"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},98482:(e,n,i)=>{"use strict";i.d(n,{k:()=>I});var t=i(63038),a=i.n(t),d=i(67294),o=i(6722),l=i(43242),s=i(80745),r=i(28655),m=i.n(r),u=i(87757),c=i.n(u),k=i(6479),p=i.n(k),v=i(48926),S=i.n(v),N=i(38460),f=i(92471),g=i(68356),F=i.n(g),h=i(35469);function y(){var e=m()(["\n  fragment ThreadedResponsesSidebarContent_post on Post {\n    id\n    postResponses {\n      count\n    }\n    collection {\n      id\n      viewerEdge {\n        id\n        isEditor\n      }\n    }\n    creator {\n      id\n    }\n    ...ThreadedReplies_post\n  }\n  ","\n"]);return y=function(){return e},e}var b=(0,f.Ps)(y(),h.e),_=i(76412),w=i(18733),P=i(66411),T=i(50742),C=i(97217),D=i(86742);function E(){var e=m()(["\n  fragment ThreadedResponsesSidebar_post on Post {\n    id\n    ...ThreadedResponsesSidebarContent_post\n  }\n  ","\n"]);return E=function(){return e},e}var x=F()({loading:function(){return null},loader:function(){return Promise.all([i.e(7084),i.e(6318),i.e(8121),i.e(8994),i.e(8913)]).then(i.bind(i,41469))},modules:["./ThreadedResponsesSidebarContent"],webpack:function(){return[41469]},render:(0,T.n)("ThreadedResponsesSidebarContent")}),R=function(e){var n,i,t,o,l,r,m,u,k,v=e.isResponsesSidebarVisible,f=e.inResponseToQuote,g=e.setInResponseToQuote,F=e.parentPost,h=e.continueThisThreadPost,y=e.continueThisThreadPostDepth,b=e.showPreviousSidebar,T=e.cleanupSidebar,E=e.initialSidebarRender,R=d.useState(C.sV.TOP),I=a()(R,2),V=I[0],A=I[1],U=d.useState(!1),B=a()(U,2),H=B[0],M=B[1],O=d.useRef(null),L=(0,N.t)(D.A,{variables:{postId:F.id,postResponsesPaging:{limit:s.p4},sortType:V},ssr:!1}),W=a()(L,2),Q=W[0],z=W[1],j=z.called,q=z.loading,K=z.data,G=z.fetchMore;j||h||!v||(Q(),x.preload());var Y=null==K||null===(n=K.post)||void 0===n?void 0:n.responsesLocked,Z=null==K||null===(i=K.post)||void 0===i?void 0:i.isLockedResponse,$=(0,s.aj)(v,E,null==K||null===(t=K.post)||void 0===t?void 0:t.threadedPostResponses,h),X=$.responses,J=$.showCreateReplyEditor,ee=(null==K||null===(o=K.post)||void 0===o||null===(l=o.responseRootPost)||void 0===l||null===(r=l.post)||void 0===r?void 0:r.id)||"",ne=y||(null==K||null===(m=K.post)||void 0===m||null===(u=m.responseRootPost)||void 0===u?void 0:u.responseDepth)||0,ie=void 0,te=null==X||null===(k=X.pagingInfo)||void 0===k?void 0:k.next;return te&&!h&&(ie=function(){var e=S()(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!G){e.next=5;break}return te.__typename,n=p()(te,["__typename"]),e.next=4,G({variables:{postId:F.id,postResponsesPaging:n}});case 4:M(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),d.createElement(w.N8,null,d.createElement(P.cW,{source:{name:"responses",postId:F.id},extendSource:!0},d.createElement(_.I,{sidebarRef:O,cleanupSidebar:T,isResponsesSidebarVisible:v,pagingInfoNext:te,isFetchingNextSetOfResponses:H,setIsFetching:M,fetchMoreWithArguments:ie,initialSidebarRender:E},(function(e){var n=e.responseDistribution,i=e.setResponseDistribution,t=e.closeSidebar;return j||h?d.createElement(x,{responses:X,parentPost:F,responsesLocked:Y,isLockedResponse:Z,isLoadingInitialContent:q,isFetchingNextSetOfResponses:H,isResponsesSidebarVisible:v,closeSidebar:t,showPreviousSidebar:b,inResponseToQuote:f,setInResponseToQuote:g,sidebarRef:O,responseDistribution:n,setResponseDistribution:i,responseSortType:V,setResponseSortType:A,rootPostId:ee,postDepth:ne,isContinueThisThread:!!h,showCreateReplyEditor:J}):null}))))},I=((0,f.Ps)(E(),b),function(e){var n=e.children,i=e.post,t=(0,d.useState)(void 0),r=a()(t,2),m=r[0],u=r[1],c=(0,d.useCallback)((function(e){return function(n){u(n),e()}}),[]);return d.createElement(l.E,null,(function(e){var t=e.showPreviousSidebar,a=e.hasLoaded,l=e.initialSidebarRender,r=e.isVisible,k=e.continueThisThreadPosts,p=e.openSidebar,v=e.cleanupSidebar;return d.createElement(o.Q.Provider,{value:{openSidebarToRespondToHighlight:c(p)}},!!i&&a&&d.createElement(R,{isResponsesSidebarVisible:r&&0===k.length,parentPost:i,inResponseToQuote:m,setInResponseToQuote:u,showPreviousSidebar:t,cleanupSidebar:v,initialSidebarRender:!!l.current}),!!i&&a&&k.map((function(e,n,a){var o=(0,s.iI)(n);return d.createElement(R,{key:i.id,isResponsesSidebarVisible:r&&n===a.length-1,parentPost:i,inResponseToQuote:m,setInResponseToQuote:u,continueThisThreadPost:e,continueThisThreadPostDepth:o,showPreviousSidebar:t,cleanupSidebar:v,initialSidebarRender:!!l.current})})),n)}))})},43242:(e,n,i)=>{"use strict";i.d(n,{E:()=>p});var t=i(319),a=i.n(t),d=i(63038),o=i.n(d),l=i(38125),s=i.n(l),r=i(67294),m=i(21232),u=i(31889),c=i(34135),k=i(77280),p=function(e){var n=e.children,i=r.useState(!1),t=o()(i,2),d=t[0],l=t[1],p=(0,u.F)(),v=!!(0,k.Wd)("responsesOpen"),S=r.useState(!1),N=o()(S,2),f=N[0],g=N[1],F=r.useRef(!0),h=r.useRef(0),y=r.useState(!1),b=o()(y,2),_=b[0],w=b[1],P=r.useCallback((function(){return g(!0)}),[]),T=r.useState([]),C=o()(T,2),D=C[0],E=C[1],x=r.useCallback((function(e){F.current=!1,E([].concat(a()(D),[e]))}),[D]),R=r.useCallback((function(){E(s()(D))}),[D]),I=r.useCallback((function(){g(!1),E([]),F.current=!0}),[]);r.useEffect((function(){w(!0),g(v)}),[v]);var V=function(){window.innerWidth<p.breakpoints.md&&l(!0)};return r.useEffect((function(){return V(),c.V6.on("resize",V),function(){return c.V6.off("resize",V)}}),[]),r.useEffect((function(){var e,n,i=null===(e=window)||void 0===e||null===(n=e.document)||void 0===n?void 0:n.documentElement;return d&&null!=i&&i.style&&(f?(i.style.top="-".concat(h.current,"px"),h.current=i.scrollTop,i.style.overflow="hidden",i.style.position="fixed"):(i.style.overflow="",i.style.position="",i.style.top="",i.scrollTop=h.current)),function(){d&&null!=i&&i.style&&(i.style.overflow="",i.style.position="",i.style.top="",i.scrollTop=h.current)}}),[f]),r.createElement(m.f.Provider,{value:{addContinueThisThreadSidebar:x,openSidebar:P,closeSidebar:I}},n({showPreviousSidebar:R,hasLoaded:_,initialSidebarRender:F,isVisible:f,continueThisThreadPosts:D,openSidebar:P,cleanupSidebar:I}))}},28451:(e,n,i)=>{"use strict";var t;i.d(n,{j:()=>t}),function(e){e.LOHighlightCTA="lo_highlight_cta",e.LIHighlightCTA="li_highlight_cta",e.RegWall="regwall",e.SyndicatedRegwall="syndicated_regwall"}(t||(t={}))}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/606.cbffecf0.chunk.js.map